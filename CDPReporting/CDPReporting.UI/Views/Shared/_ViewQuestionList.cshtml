@model List<CDPReporting.Business.Models.GroupQuestionModel>
    <link href="~/Content/Style.css" rel="stylesheet" />

    <div class="list-group">
        @foreach (var element in Model)
        {
            <div class="list-group-item-heading" style="cursor:pointer;">

        @*<div class="col-md-6">*@
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">@element.QuestionGroupId @element.QuestionGroupName</h3>
                    <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
                </div>

            @*</div>
        </div>*@



        @*<h4 style="background-color: #E7EEED; " </h4>*@
        <div class="panel-body">

                <div class="list-group-item-text" style="cursor:pointer;">
                    @foreach (var subitem in element.SubGroupQuestion)
                    {
                        foreach (var subQuestions in subitem.Question)
                        {
                            //<h4>@subQuestions.SubGroupText</h4>
                            string QuestionId = "Question_" + @subQuestions.QuestionId;
                            <div id=@QuestionId class="list-group-item-text" style="cursor:pointer;">
                                @if (@subQuestions.QuestionText.Length > 40)
                                {
                                    <p class="Questionbg">@subQuestions.QuestionId: @subQuestions.QuestionText.Substring(0, 40).....</p>
                                }
                                else
                                {
                                <p class="Questionbg">@subQuestions.QuestionId: @subQuestions.QuestionText</p>
                                }
                            </div>
                            <br />
                        }
                }
            </div>

        </div>
    </div>

            @*</div>*@
            </div>
        }
    </div>


<script>

    $(document).on('click', '.panel-heading span.clickable', function (e) {
        var $this = $(this);
        if (!$this.hasClass('panel-collapsed')) {
            $this.parents('.panel').find('.panel-body').slideUp();
            $this.addClass('panel-collapsed');
            $this.find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        } else {
            $this.parents('.panel').find('.panel-body').slideDown();
            $this.removeClass('panel-collapsed');
            $this.find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        }
    })

</script>